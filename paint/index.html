<!DOCTYPE html>
<html>
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Paint</title>
        <link type="text/css" rel="stylesheet" href="style.css">
    </head>
    <body>
        <h1>Dataset Creator</h1>

        <div class="board-container">
            <div id="board" class="board">
                <canvas id="draw"></canvas>
            </div>
        </div>

        <button id="clear" class="capture-but">Clear</button>
        <button id="cap_but" class="capture-but">Capture</button>

        <div class="preview">
            <div id="preview">

            </div>
        </div>

        <div id="labels" class="labels">
            <button onclick="download(0)">0</button>
            <button onclick="download(1)">1</button>
            <button onclick="download(2)">2</button>
            <button onclick="download(3)">3</button>
            <button onclick="download(4)">4</button>
            <button onclick="download(5)">5</button>
            <button onclick="download(6)">6</button>
            <button onclick="download(7)">7</button>
            <button onclick="download(8)">8</button>
            <button onclick="download(9)">9</button>
        </div>

        <script src="html2image.js"></script>
        <script>
            function capture()
            {
                html2canvas(document.getElementById("draw"), {width:'300', height:'300'}).then(function(canvas) {
                    var preview = document.getElementById("preview");
                    preview.innerHTML="";
                    preview.appendChild(canvas);
                    canvas.setAttribute('id', 'canvas');
                });
            }
            document.getElementById("cap_but").addEventListener("click", capture)

            function download(f)
            {
                try{
                    fname = f + ".png";
                    var link = document.createElement('a');
                    link.download = fname;
                    link.href = document.getElementById("canvas").toDataURL()
                    link.click();
                }
                catch{
                    alert("Draw something!");
                }
            }
        </script>

        <script src="app2.js"></script>
    </body>
</html>


<!-- var link = document.createElement('a');
                    link.download = 'xyz.png';
                    link.href = canvas.toDataURL()
                    link.click(); -->
